# 扩容磁盘<a name="zh-cn_topic_pg_scale_cluster"></a>

## 操作场景<a name="zh-cn_topic_0171122523_section3404387132643"></a>

随着业务数据的增加，原来申请的数据库磁盘容量可能会不够用，尤其当实例显示“磁盘空间满”状态，且数据库不可进行写入操作。这时，您需要为华为云关系型数据库实例进行扩容。

数据库磁盘空间不足的原因和解决方案，请参见[数据超过了RDS实例的最大存储容量怎么办](https://support.huaweicloud.com/rds_faq/rds_faq_0046.html)。

华为云关系型数据库服务只支持扩容磁盘存储空间大小，不支持变更存储类型。磁盘扩容期间，服务不中断。

>![](public_sys-resources/icon-note.gif) **说明：**   
>-   关系型数据库实例支持无限次扩容。  
>-   如果是主备实例，针对主实例扩容时，会同时对其备实例进行扩容。  
>-   扩容过程中，该实例不可重启和删除。  
>-   磁盘容量变更只允许扩容，不能缩容。  
>-   选择磁盘加密的实例，新扩容的磁盘空间依然会使用原加密密钥进行加密。  
>-   账户余额大于等于0元，才可进行扩容。  

## 主实例扩容<a name="zh-cn_topic_0171122523_section3535102285710"></a>

1.  登录管理控制台。
2.  单击管理控制台左上角的![](figures/Region灰色图标.png)，选择区域和项目。
3.  选择“数据库  \>  云数据库 RDS“。进入云数据库 RDS信息页面。
4.  在“实例管理”页面，选择目标实例，单击“操作“列的“更多  \>  磁盘扩容“，进入“磁盘扩容”页面。

    您也可以通过单击目标实例名称，进入“基本信息”页面，在“存储/备份空间“模块的“存储空间“处，单击“磁盘扩容”，进入“磁盘扩容”页面。

5.  在“服务选型“页面，选择空间大小，单击“立即申请”。

    用户每次扩容最小容量为10GB，实例所选容量大小必须为10的整数倍，最大磁盘容量为4000GB。

    最大磁盘容量跟数据库引擎和实例规格有关，具体以页面显示为准。

    当实例处于“磁盘空间满”状态时，需扩容至磁盘空间使用率小于75%才可使实例处于可用状态，即数据库恢复正常的写入操作。

6.  确认订单。
    -   如果需要重新选择，单击“上一步“，回到上个页面，修改新增大小。
    -   如果确认无误，按需实例单击“提交“，包周期实例单击“去支付“，提交扩容。

7.  查看扩容结果。

    在实例管理页面，可看到实例状态为“扩容中“，稍后单击实例名称，在“基本信息“页面，查看磁盘大小，检查扩容是否成功。此过程需要3～5分钟。


## 只读实例扩容<a name="zh-cn_topic_0171122523_section25847103185530"></a>

>![](public_sys-resources/icon-note.gif) **说明：**   
>-   只读实例磁盘扩容与主实例的磁盘扩容互不影响。  
>-   对只读实例进行扩容时，可选择大于或等于主实例的存储空间。  

1.  登录管理控制台。
2.  单击管理控制台左上角的![](figures/Region灰色图标.png)，选择区域和项目。
3.  选择“数据库  \>  云数据库 RDS“。进入云数据库 RDS信息页面。
4.  在“实例管理“页面，选择相应的实例，单击实例名称前的![](figures/下拉选择-2.png)可查看到只读实例，单击“操作“列的“更多  \>  磁盘扩容“。

    您也可以通过单击目标实例名称，进入“基本信息”页面，在“存储/备份空间“模块的“存储空间“处，单击“磁盘扩容”，进入“服务选型”页面。

5.  在“服务选型“页面，选择空间大小，单击“立即申请”。

    用户每次扩容最小容量为10GB，实例所选容量大小必须为10的整数倍，最大磁盘容量为4000GB。

    最大磁盘容量跟数据库引擎和实例规格有关，具体以页面显示为准。

    当实例处于“磁盘空间满”状态时，需扩容至磁盘空间使用率小于75%才可使实例处于可用状态，即数据库恢复正常的写入操作。

6.  确认订单。
    -   如果需要重新选择，单击“上一步“，回到上个页面，修改新增大小。
    -   如果确认无误，按需实例单击“提交“，包周期实例单击“去支付“，提交扩容。

7.  查看扩容结果。

    在实例管理页面，可看到实例状态为“扩容中“，稍后单击实例名称，在“基本信息“页面，查看磁盘大小，检查扩容是否成功。此过程需要3～5分钟。


